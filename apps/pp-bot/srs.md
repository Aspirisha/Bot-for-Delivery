## 1. Бот гостя

**FR-TGBOT-01.** При первом обращении незарегистрированного пользователя бот должен отправить ему приветственное сообщение с указанием контактного телефона пункта выдачи .

**FR-TGBOT-02.** Бот должен запросить у пользователя выбор пола (мужчина/женщина/другое) через встроенную кнопку-ответ .

**FR-TGBOT-03.** После указания пола бот сохраняет в БД нового пользователя со статусом «Гость» .

---

## 2. Бот волонтёра

> Отвечает за напоминание волонтёру подтвердить или отменить смену.

**FR-TGBOT-04.** За 24 ч до начала запланированной смены бот автоматически присылает волонтёру уведомление с двумя кнопками: «Подтвердить» и «Отменить» .

**FR-TGBOT-05.** При нажатии «Подтвердить» бот меняет статус участия волонтёра в смене на «Подтверждён» .

**FR-TGBOT-06.** При нажатии «Отменить» бот запускает диалог подтверждения отмены смены; после «Да» удаляет волонтёра из списка участников и меняет статус смены на «Свободна» .

---

## 3. Бот координатора

> Помогает координатору следить за заполнением смен.

**FR-TGBOT-07.** В середине каждого месяца бот раз в день присылает координатору сводку по заполнению смен (сколько «пустых» и «неподтверждённых») .

**FR-TGBOT-08.** По субботам и воскресеньям ежедневно бот уведомляет координатора о нехватке волонтёров на смены следующей недели, если есть смнеы в статусе `free` или `halfBusy`

---

## 4. Общие службы бота

**FR-TGBOT-09.** Бот должен поддерживать команду `/start`, которая заново запускает процедуру регистрации, если пользователь ещё не зарегистрирован.

---

### Матрица трассировки

| ID             | Пользовательская цель                           | Бизнес-требование | Комментарий                 |
|----------------|-------------------------------------------------|-------------------|-----------------------------|
| FR-TGBOT-01–03 | Зарегистрироваться в боте                       | BR–GuestReg       | регистрация гостя           |
| FR-TGBOT-04–06 | Подтвердить/отменить свою смену                 | BR–ShiftConfirm   | напоминания волонтёру       |
| FR-TGBOT-07–08 | Отслеживать заполнение смен и уведомлять коорд. | BR–CoordAlerts    | уведомления координатору    |
| FR-TGBOT-09    | Общая управляющая функциональность бота         | BR–BotInfra       | инфраструктурные требования |

